<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>SoDALAB</title>
    <link rel="stylesheet" href="{{url_for('soda.static', filename='home.css')}}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<style>
    #banner-bg {
        /* background 속성은 아래의 배경 슬라이더가 담당하므로 제거합니다. */
        position: relative;
        z-index: 1;
    }

    .main-content-1 {
        background: url("{{ url_for('soda.static', filename='images/kguphoto.jpg') }}");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        width: 100vw;
        height: auto;
    }

    /* 배경 슬라이더를 위한 새로운 CSS */
    .background-swiper {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        pointer-events: none;
    }

    .background-swiper .swiper-slide {
        background-size: cover;
        background-position: center;
    }
</style>

<body>

    <div class="swiper background-swiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide" style="background-image: url('{{ url_for('soda.static', filename='images/photo.jpg') }}');"></div>
            <div class="swiper-slide" style="background-image: url('{{ url_for('soda.static', filename='images/landing_1.jpg') }}');"></div>
            <div class="swiper-slide" style="background-image: url('{{ url_for('soda.static', filename='images/icicic.jpg') }}');"></div>
        </div>
    </div>

    <section id="banner-bg">
        <section class="banner-bg2">
            <header id="header">
                <div class="inner header_inner">
                    <a href="." class="logo">
                        <img class="logo-image" src="{{ url_for('soda.static', filename='images/sodalab_logo_black.png') }}">
                    </a>
                    <nav id="nav">
                        <a href="." class="current"> 연구실</a>
                        <ul class="dropdown">
                            <a href="{{url_for('soda.intro')}}" class="detail"> 연구실 소개 </a>
                            <a href="{{url_for('soda.domain')}}" class="detail"> 연구분야 </a>
                        </ul>
                        <a href="{{url_for('soda.prof')}}" class> 교수</a>
                        <a href="{{url_for('soda.people')}}" class="current_2"> 구성원</a>
                        <ul class="dropdown_2">
                            <a href="{{url_for('soda.people')}}" class="detail_2"> 재학생 </a>
                            <a href="{{url_for('soda.graduate')}}" class="detail_2"> 졸업생 </a>
                        </ul>
                        <a href="{{url_for('soda.public')}}" class> 연구</a>
                        <a href="{{url_for('soda.gallery')}}" class> 활동사진</a>
                    </nav>
                </div>
            </header>

            <a href="#menu" class="navPanelToggle">
                <span class="fa fa-bars"></span>
            </a>

            <section id="banner">
                <div class="banner-pad">
                    <div class="inner">
                        <h1 style= "text-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);">SoDALAB에 오신 걸 환영합니다</h1>
                        <span style= "text-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);">경기대학교 데이터분석 연구실</span>
                    </div>
                </div>
            </section>

            <div class="container swiper" id="main-content">
                <div class="card-wrapper">
                    <ul class="card-list swiper-wrapper">
                        {% for home_content in home_contents %}
                        <li class="card-item swiper-slide">
                            <p style="color: #d5d5d5;">{{home_content.date}}</p>
                            <br>
                            <h2 style="margin-top:0.5em; color: #d5d5d5;"><strong>{{home_content.title}}</strong></h2>
                            <p style="margin:0.5em 0; line-height:1.4; color: #d5d5d5;">{{home_content.content}}</p>
                        </li>
                        {% endfor %}
                    </ul>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-slide-button swiper-button-prev"></div>
                    <div class="swiper-slide-button swiper-button-next"></div>
                </div>
            </div>
        </section>
    </section>

    <section id="footer">
        <div class="inner">
            <strong>SoDALAB, 산업경영정보공학과, 경기대학교</strong>
            <br>
            <a>5층 506호, 제2공학관, 수원 캠퍼스, 경기대학교</a>
            <br>
            <a>(16227) 광교, 수원시, 경기도 154-42, 대한민국</a>
            <br>
            <a>COPYRIGHT ⓒ2025 Graduate School of KGU. SoDALAB. All rights reserved</a>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // 기존 카드 슬라이더
        new Swiper('.card-wrapper', {
            loop: true,
            spaceBetween: 30,
            autoplay: {
                delay: 3000,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            breakpoints: {
                0: { slidesPerView: 1, spaceBetween: 10 },
                768: { slidesPerView: 2, spaceBetween: 20 },
                1024: { slidesPerView: 3, spaceBetween: 30 },
            }
        });

        // 배경 슬라이더 초기화
        new Swiper('.background-swiper', {
            loop: true,
            effect: 'fade',
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
            allowTouchMove: false,
        });

        // 드롭다운 메뉴 스크립트
        document.addEventListener("DOMContentLoaded", () => {
            const nav = document.getElementById("nav");
            const currentLink = nav.querySelector(".current");
            const currentLink_2 = nav.querySelector(".current_2");
            const dropdown = nav.querySelector(".dropdown");
            const dropdown_2 = nav.querySelector(".dropdown_2");
            currentLink.addEventListener("click", (e) => {
                e.preventDefault();
                dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
            });
            currentLink_2.addEventListener("click", (e) => {
                e.preventDefault();
                dropdown_2.style.display = dropdown_2.style.display === "block" ? "none" : "block";
            });
            document.addEventListener("click", (e) => {
                if (!nav.contains(e.target)) {
                    dropdown.style.display = "none";
                }
            });
            document.addEventListener("click", (e) => {
                if (!nav.contains(e.target)) {
                    dropdown_2.style.display = "none";
                }
            });
        });
    </script>

</body>

</html>